create table ubicacions (
	id serial,
	pais varchar(32),
	region int,
	ciudad varchar(58),
	comuna varchar(21),
	primary key(id),
);

create table locals (
	id serial,
	id_ubicacion int,
	valor_entrega money,
	cantidad_puestos int,
	numero_mesa int,
	primary key(id),
	foreign key (id_ubicacion)
	references ubicacions(id)
);

create table mesas (
	id serial,
	id_local int,
	cantidad_puestos int,
	numero_mesa int,
	primary key(id),
	foreign key (id_local)
	references locals(id)
);

create table menus (
	id serial,
	nombre text,
	precio money,
	primary key(id),

);

create table productos (
	id serial,
	nombre varchar(32),
	cantidad int,
	primary key(id),
);



create table horarios (
	id serial,
	id_local
	dia int,
	apertura time,
	cierre time,
	primary key(id),
	foreign key (id_local)
	references locals(id)
);

create table categorias (
	id serial,
	nombre varchar(32),
	primary key(id),
);


create table usuarios(
    id serial,
    id_ubicacion int,
    nombre varchar(60),
    apellido varchar(60),
    email varchar(30),
    contrasena char(32),
    calle varchar(80),
    rol int,
    primary key(id),
    foreign key(id_ubicacion)
    references ubicacions(id)
);

create table historial_usuarios(
    id serial,
    id_usuario int,
    accion text,
    fecha date,
    hora time,
    primary key(id),
    foreign key(id_usuario)
    references usuarios(id)
)
